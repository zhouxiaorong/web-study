# å­—ç¬¦ä¸²
  > ES6åŠ å¼ºäº†å¯¹Unicodeçš„æ”¯æŒï¼Œå¹¶ä¸”æ‰©å±•äº†å­—ç¬¦ä¸²å¯¹è±¡

## ç›®å½•

  - [`Unicode`ç›¸å…³](#unicodeç›¸å…³)
    
    - [å­—ç¬¦çš„`Unicodeè¡¨ç¤ºæ³•`ï¼šè¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦ï¼ŒåŠ å¤§æ‹¬å·](#å­—ç¬¦çš„unicodeè¡¨ç¤ºæ³•ï¼šè¶…å‡ºï¼¼u0000ï½ï¼¼uffffèŒƒå›´çš„å­—ç¬¦ï¼ŒåŠ å¤§æ‹¬å·)
    
    - [String.prototype.codePointAt()ï¼šES6ï¼Œè·å–å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹](#stringprototypecodepointatï¼šes6ï¼Œè·å–å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹)
    
    - [String.fromCodePoint()ï¼šES6ï¼Œæ ¹æ®ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå®šä¹‰åœ¨Stringå¯¹è±¡ä¸Š](#stringfromcodepointï¼šes6ï¼Œæ ¹æ®ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå®šä¹‰åœ¨stringå¯¹è±¡ä¸Š)

    - [å®‡å¾…ä¸²çš„éå†å™¨æ¥å£](#å®‡å¾…ä¸²çš„éå†å™¨æ¥å£)

    - [String.prototype.normalizeï¼šES6ï¼Œè¿”å›å­—ç¬¦ä¸²çš„ Unicode è§„èŒƒåŒ–å½¢å¼](#stringprototypenormalizeï¼šes6ï¼Œè¿”å›å­—ç¬¦ä¸²çš„unicodeè§„èŒƒåŒ–å½¢å¼)
  
  - [å­—ç¬¦ä¸²æŸ¥æ‰¾](#å­—ç¬¦ä¸²æŸ¥æ‰¾)

    - [String.prototype.indexOf()ï¼šES5ï¼Œè¿”å›æ•°å€¼ï¼ŒæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®](#stringprototypeindexofï¼šes5ï¼Œè¿”å›æ•°å€¼ï¼ŒæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®)

    - [String.prototype.includes()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²](#stringprototypeincludesï¼šes6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²)

    - [String.prototype.startsWith()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´](#stringprototypestartswithï¼šes6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´)

    - [String.prototype.endsWith()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾](#stringprototypeendswithï¼šes6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾)

  - [å¾—åˆ°æ–°å­—ç¬¦ä¸²](#å¾—åˆ°æ–°å­—ç¬¦ä¸²)

    - [String.prototype.repeat()ï¼šES6ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡è¿”å›](#stringprototyperepeatï¼šes6ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡è¿”å›)

    - [String.prototype.padStart()ï¼šES6ï¼Œåœ¨å­—ç¬¦ä¸²å¤´éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²](#stringprototypepadstartï¼šes6ï¼Œåœ¨å­—ç¬¦ä¸²å¤´éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²)

    - [String.prototype.padEnd()ï¼šES6ï¼Œåœ¨å­—ç¬¦ä¸²å°¾éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²](#stringprototypepadendï¼šes6ï¼Œåœ¨å­—ç¬¦ä¸²å°¾éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²)
    
  - [æ¨¡æ¿](#æ¨¡æ¿)

    - [æ¨¡æ¿å­—ç¬¦ä¸²](#æ¨¡æ¿å­—ç¬¦ä¸²)

    - [æ ‡ç­¾æ¨¡æ¿](#æ ‡ç­¾æ¨¡æ¿)

    - [String.raw()ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²](#stringrawï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²)

## `Unicode`ç›¸å…³

### å­—ç¬¦çš„`Unicodeè¡¨ç¤ºæ³•`ï¼šè¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦ï¼ŒåŠ å¤§æ‹¬å·
  - ES5ä¸­ï¼ŒUnicodeç ç‚¹è¶…å‡ºï¼¼uOOOOï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦ï¼Œæ— æ³•æ­£ç¡®æ‰“å°ï¼Œå¿…é¡»ç”¨2ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨è¾¾  
    ```js
      console.log('\u20BB7'); // â‚»7
      console.log('\uD842\uDFB7'); // ğ ®·
    ```
  - ES6ä¸­ï¼ŒUnicodeç ç‚¹è¶…å‡ºï¼¼uOOOOï½ï¼¼uFFFFèŒƒå›´æ—¶ï¼Œåªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦
    ```js
      console.log('\u{20BB7}'); // ğ ®·
    ```
  - ES6çš„å¤§æ‹¬å·è¡¨ç¤ºæ³•ï¼Œä¸ES5ä¸­çš„2ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨è¾¾ï¼ˆå››å­—èŠ‚çš„UTF-16ç¼–ç ï¼‰æ˜¯ç­‰ä»·çš„
    ```js
      console.log('\uD842\uDFB7' === '\u{20BB7}'); // true
    ```
  - JavaScriptå…±æœ‰6ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦
    ```js
      console.log('z' === '\z'); // true
      console.log('z' === '\172'); // true
      console.log('z' === '\x7a'); // true
      console.log('z' === '\u007A'); // true
      console.log('z' === '\u{7A}'); // true
    ```
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.codePointAt()ï¼šES6ï¼Œè·å–å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹
  > è·å–å­—ç¬¦çš„ç ç‚¹ï¼šèƒ½å¤Ÿæ­£ç¡®å¤„ç†4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ã€‚å®šä¹‰åœ¨å­—ç¬¦ä¸²çš„å®ä¾‹å¯¹è±¡ä¸Šã€‚

  - `charAt`æ–¹æ³•ï¼šES5ï¼Œæ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦
    ``` js
      let s = 'ğ ®·a';
      console.log(s.length); // 3ï¼ˆå¯¹äºé‚£äº›éœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicodeç ç‚¹å¤§äºOxFFFFçš„å­—ç¬¦ï¼‰, JavaScriptä¼šè®¤ä¸ºå®ƒä»¬æ˜¯2ä¸ªå­—ç¬¦ï¼‰
      console.log(s.charAt(0)); // ï¿½
      console.log(s.charAt(1)); // ï¿½
    ```
  - `charCodeAt`æ–¹æ³•ï¼šES5ï¼Œåªèƒ½åˆ†åˆ«è¿”å›å‰2ä¸ªå­—èŠ‚å’Œå2ä¸ªå­—èŠ‚çš„å€¼
    ``` js
      let s = 'ğ ®·a';
      console.log(s.charCodeAt(0).toString(16)); // d842
      console.log(s.charCodeAt(1).toString(16)); // dfb7
    ```
  - `codePointAt`æ–¹æ³•ï¼ŒES6ï¼Œèƒ½æ­£ç¡®è¿”å›32ä½çš„UTF-16å­—ç¬¦çš„åè¿›åˆ¶å€¼ç ç‚¹
    - è¿”å›Unicodeç ç‚¹å¤§äºOxFFFFçš„å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹ï¼Œå‚æ•°ï¼šæ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰
      ```js
        let s = 'ğ ®·';
        console.log(s.codePointAt(0).toString(16)); // 20bb7
      ```
    - å¯¹äºé‚£äº›2ä¸ªå­—èŠ‚å‚¨å­˜çš„å¸¸è§„å­—ç¬¦ï¼Œå®ƒçš„è¿”å›ç»“æœä¸charCodeAtæ–¹æ³•ç›¸åŒã€‚
      ```js
        let s = 'a';
        console.log(s.charCodeAt(0).toString(16)); // 61
        console.log(s.codePointAt(0).toString(16)); // 61
      ```
    - ç”¨codePointAtæ–¹æ³•æŒ‰ä¸‹æ ‡è·å–å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹çš„æ–¹æ³•ä»ç„¶æ˜¯ä¸æ­£ç¡®çš„ï¼š4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼Œè¿˜æ˜¯ä¼šå ä¸¤ä¸ªä½ç½®
      ```js
        let s = 'ğ ®·a';
        console.log(s.charCodeAt(2).toString(16)); // dfb7
        console.log(s.codePointAt(0).toString(16)); // 20bb7
        // æ­£ç¡®çš„è¯ï¼Œè¿™é‡Œåº”è¯¥æ˜¯açš„åè¿›åˆ¶ç ç‚¹ï¼Œç„¶è€Œç°åœ¨è¿™é‡Œè·å–çš„ç»“æœä¸`charCodeAt`æ–¹æ³•ç›¸åŒ
        console.log(s.codePointAt(1).toString(16)); // dfb7
        console.log(s.codePointAt(2).toString(16)); // 61
      ```
    - å¯ä»¥ä½¿ç”¨`for...of`å¾ªç¯è§£å†³æ— æ³•æ­£ç¡®è¯†åˆ«32ä½çš„UF-16å­—ç¬¦çš„é—®é¢˜
      ```js
        let s = 'ğ ®·a';
        for (let v of s) {
          console.log('å­—ç¬¦`'+v+'`çš„ç ç‚¹æ˜¯ï¼š'+v.codePointAt(0).toString(16));
        }
        // å­—ç¬¦`ğ ®·`çš„ç ç‚¹æ˜¯ï¼š20bb7
        // å­—ç¬¦`a`çš„ç ç‚¹æ˜¯ï¼š61
      ```
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.fromCodePoint()ï¼šES6ï¼Œæ ¹æ®ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå®šä¹‰åœ¨Stringå¯¹è±¡ä¸Š
  > æ ¹æ®ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå®šä¹‰åœ¨Stringå¯¹è±¡ä¸Š

  - `fromCharCode`æ–¹æ³•
    - æ ¹æ®ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦æ—¶ä¸èƒ½è¯†åˆ«32ä½çš„UTF-16å­—ç¬¦ï¼ˆUnicodeç¼–å·å¤§äºOxFFFFï¼‰ï¼Œå‘ç”Ÿæº¢å‡ºæ—¶ï¼Œæœ€é«˜ä½è¢«èˆå¼ƒ
      ```js
        // æœ€é«˜ä½ 2 è¢«èˆå¼ƒï¼Œè¿”å›ç ç‚¹U+OBB7å¯¹åº”çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ç ç‚¹U+20BB7å¯¹åº”çš„å­—ç¬¦
        console.log(String.fromCharCode(0x0bb7)); // à®·
        console.log(String.fromCharCode(0x20bb7)); // à®·
      ```
  - `fromCodePoint`æ–¹æ³•
    - å¯ä»¥è¯†åˆ«å¤§äºOxFFFFçš„å­—ç¬¦ï¼Œ
      ```js
        console.log(String.fromCodePoint(0x20bb7)); // ğ ®·
      ```
    - ä¸€ä¸ªå‚æ•°åªèƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦çš„32ä½çš„UTF-16å­—ç¬¦
      ```js
        console.log(String.fromCodePoint(0x780x1f6800x79)); // SyntaxError: Invalid or unexpected token
      ```
    - æœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå‚æ•°è¿”å›
      ```js
        var s = String.fromCodePoint(0x78, 0x1f680, 0x79);
        console.log(s); // xğŸš€y
        console.log('\u{78}\u{1f680}\u{79}' === 'x\uD83D\ude80y'); // true
        console.log(s === 'x\uD83D\ude80y');
      ```
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### å®‡å¾…ä¸²çš„éå†å™¨æ¥å£

  - ä¼ ç»Ÿå¾ªç¯ï¼šæ— æ³•è¯†åˆ«å¤§äº0xFFFFçš„ç ç‚¹çš„å­—ç¬¦
    ```js
      var str = String.fromCodePoint(0x20BB7);
      // forå¾ªç¯ä¼šè®¤ä¸ºå¤§äº0xFFFFçš„ç ç‚¹çš„å­—ç¬¦åŒ…å«2ä¸ªå­—ç¬¦
      for (var i = 0, len = str.length; i < len; i++){
        console.log(str[i]);
      }
      // ï¿½
      // ï¿½
    ```
  - `for...of`ï¼šå¯ä»¥è¯†åˆ«å¤§äºOxFFFFçš„ç ç‚¹çš„å­—ç¬¦
    ```js
      var str = String.fromCodePoint(0x20BB7);
      // æ­£ç¡®è¯†åˆ«å¤§äºOxFFFFçš„ç ç‚¹çš„å­—ç¬¦
      for (let s of str) {
        console.log(s); 
      }
      // ğ ®·
    ```
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.normalizeï¼šES6ï¼Œè¿”å›å­—ç¬¦ä¸²çš„`Unicode`è§„èŒƒåŒ–å½¢å¼
  > è¿”å›å­—ç¬¦ä¸²çš„ Unicode è§„èŒƒåŒ–å½¢å¼çš„å­—ç¬¦ä¸²ã€‚normalizeæ–¹æ³•ç›®å‰ä¸èƒ½è¯†åˆ«ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šå­—ç¬¦çš„åˆæˆ

  - ES5ä¸­ï¼Œå¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ä¸åˆæˆç¬¦å·åœ¨è§†è§‰å’Œè¯­ä¹‰ä¸Šéƒ½ç­‰ä»·ï¼Œä½†æ˜¯ JavaScript ä¸èƒ½è¯†åˆ«
    > è®¸å¤šæ¬§æ´²è¯­è¨€æœ‰è¯­è°ƒç¬¦å·å’Œé‡éŸ³ç¬¦å·ã€‚ä¸ºäº†è¡¨ç¤ºå®ƒä»¬ï¼ŒUnicode æä¾›äº†ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œæ¯”å¦‚Ç‘ï¼ˆ\u01D1ï¼‰ã€‚å¦ä¸€ç§æ˜¯æä¾›åˆæˆç¬¦å·ï¼ˆcombining characterï¼‰ï¼Œå³åŸå­—ç¬¦ä¸é‡éŸ³ç¬¦å·çš„åˆæˆï¼Œä¸¤ä¸ªå­—ç¬¦åˆæˆä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚Oï¼ˆ\u004Fï¼‰å’ŒË‡ï¼ˆ\u030Cï¼‰åˆæˆÇ‘ï¼ˆ\u004F\u030Cï¼‰ã€‚
    ```js
      // JavaScript å°†åˆæˆå­—ç¬¦è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œå¯¼è‡´ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ä¸ç›¸ç­‰
      console.log('\u01D1' === '\u004F\u030C'); //false
      console.log('\u01D1'.length); // 1
      console.log('\u004F\u030C'.length); // 2
    ```

  - ES6 æä¾›å­—ç¬¦ä¸²å®ä¾‹çš„normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚
    ```js
      let a = '\u01D1'.normalize();
      let b = '\u004F\u030C'.normalize();
      console.log(a); // Ç‘
      console.log(b); // Ç‘
      console.log(a === b); // true
    ```

  - normalizeæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®šnormalizeçš„æ–¹å¼ï¼Œå‚æ•°çš„å››ä¸ªå¯é€‰å€¼å¦‚ä¸‹
    - `NFC`ï¼šé»˜è®¤å‚æ•°ï¼Œè¡¨ç¤º**æ ‡å‡†ç­‰ä»·åˆæˆ**ï¼ˆNormalization Form Canonical Compositionï¼‰ï¼Œè¿”å›å¤šä¸ªç®€å•å­—ç¬¦çš„åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œæ ‡å‡†ç­‰ä»·â€æŒ‡çš„æ˜¯è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·ã€‚
    - `NFD`ï¼šè¡¨ç¤º**æ ‡å‡†ç­‰ä»·åˆ†è§£**ï¼ˆNormalization Form Canonical Decompositionï¼‰ï¼Œå³åœ¨æ ‡å‡†ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚
    - `NFKC`ï¼šè¡¨ç¤º**å…¼å®¹ç­‰ä»·åˆæˆ**ï¼ˆNormalization Form Compatibility Compositionï¼‰ï¼Œè¿”å›åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œå…¼å®¹ç­‰ä»·â€æŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šå­˜åœ¨ç­‰ä»·ï¼Œä½†è§†è§‰ä¸Šä¸ç­‰ä»·ï¼Œæ¯”å¦‚â€œå›â€å’Œâ€œå–œå–œâ€ã€‚ï¼ˆè¿™åªæ˜¯ç”¨æ¥ä¸¾ä¾‹ï¼Œnormalizeæ–¹æ³•ä¸èƒ½è¯†åˆ«ä¸­æ–‡ã€‚ï¼‰
    - `NFKD`ï¼šè¡¨ç¤º**å…¼å®¹ç­‰ä»·åˆ†è§£**ï¼ˆNormalization Form Compatibility Decompositionï¼‰ï¼Œå³åœ¨å…¼å®¹ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚
    ```js
      console.log('\u004F\u030C'.normalize('NFC').length); // 1ï¼ˆè¿”å›å­—ç¬¦çš„åˆæˆå½¢å¼ï¼‰
      console.log('\u004F\u030C'.normalize('NFD').length); // 2ï¼ˆè¿”å›å­—ç¬¦çš„åˆ†è§£å½¢å¼ï¼‰
      console.log('\u004F\u030C'.normalize('NFKC').length); // 1
      console.log('\u004F\u030C'.normalize('NFKD').length); // 2
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

## å­—ç¬¦ä¸²æŸ¥æ‰¾

### String.prototype.indexOf()ï¼šES5ï¼Œè¿”å›æ•°å€¼ï¼ŒæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
  - è¯­æ³•
    ```js
      Number String.prototype.indexOf(searchvalue, startIndex)
    ```
    - searchvalue: å¿…éœ€ã€‚éœ€æ£€ç´¢çš„å­—ç¬¦ä¸²å€¼
    - startIndex: å¯é€‰ï¼Œå€¼å¿…é¡»ä¸ºæ•´æ•°ï¼Œè§„å®šåœ¨å­—ç¬¦ä¸²ä¸­å¼€å§‹æ£€ç´¢çš„ä½ç½®ã€‚
  - æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.indexOf('å¤§')); // è¾“å‡ºï¼š4ï¼ˆåœ¨å­—ç¬¦ä¸²æŸ¥æ‰¾å­—ç¬¦`å¤§`ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼‰
      console.log(str.indexOf('å¤§', 4)); // è¾“å‡ºï¼š4ï¼ˆä»å­—ç¬¦ä¸²ç¬¬`4`ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦`å¤§`ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼‰
      console.log(str.indexOf('å¤§', 5)); // è¾“å‡ºï¼š-1ï¼ˆä»å­—ç¬¦ä¸²ç¬¬`5`ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦`å¤§`ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼‰
    ```
  - æ— `searchvalue`å‚æ•°æˆ–æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²æ—¶è¿”å›`-1`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.indexOf()); // è¾“å‡ºï¼š-1ï¼ˆéœ€æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ä¸ºç©ºæ—¶ï¼‰
      console.log(str.indexOf('å°')); // è¾“å‡ºï¼š-1ï¼ˆæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²æ—¶ï¼‰
    ```
  - å‚æ•°`searchvalue`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å€¼é”™è¯¯ï¼Œè¿”å›`0`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.indexOf('')); // è¾“å‡ºï¼š0ï¼ˆå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼‰
      console.log(str.indexOf('l')); // è¾“å‡ºï¼š0ï¼ˆå‚æ•°ä¸ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå‚æ•°læ—¶ï¼‰
    ```
  - å‚æ•°`searchvalue`åŒºåˆ†å¤§å°å†™
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.indexOf('M')); // è¾“å‡ºï¼š-1ï¼ˆæŸ¥æ‰¾å¤§å†™`M`ï¼‰
      console.log(str.indexOf('m')); // è¾“å‡ºï¼š1ï¼ˆæŸ¥æ‰¾å°å†™`m`ï¼‰
    ```
  - å¦‚çœç•¥`startIndex`å‚æ•°æˆ–`startIndex`å‚æ•°å€¼ä¸æ˜¯æ•´æ•°ï¼Œåˆ™å°†ä»å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.indexOf('å¤§')); // è¾“å‡ºï¼š4ï¼ˆçœç•¥`startIndex`å‚æ•°æ—¶ï¼‰
      console.log(str.indexOf('å¤§', 0.1)); // è¾“å‡ºï¼š4
      console.log(str.indexOf('å¤§', 'å¤§')); // è¾“å‡ºï¼š4
      console.log(str.indexOf('å¤§', [])); // è¾“å‡ºï¼š4
      console.log(str.indexOf('å¤§', {})); // è¾“å‡ºï¼š4
      console.log(str.indexOf('å¤§', undefined)); // è¾“å‡ºï¼š4
      console.log(str.indexOf('å¤§', null)); // è¾“å‡ºï¼š4
    ```
  - å¯æŸ¥æ‰¾è¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦
    ```js
      var s = 'ğ ®·abğ ®·';
      console.log(s.indexOf('ğ ®·')); // 0
    ```
  - å¦‚æœä¼ å…¥äº†æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šå°†æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æœç´¢å®ƒ
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.includes()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²
  - è¯­æ³•
    ```js
      Boolean String.prototype.includes(searchvalue, startIndex)
    ```
    - searchvalue: å¿…éœ€ï¼Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚
    - startIndex: å¯é€‰ï¼Œè®¾ç½®ä»é‚£ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œé»˜è®¤ä¸º 0ã€‚
  - å¦‚æœæ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²`searchvalue`æ—¶è¿”å› `true`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes('å¤§')); // è¾“å‡ºï¼štrueï¼ˆåˆ¤æ–­å­—ç¬¦ä¸²`å¤§`åœ¨å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ï¼‰
    ```
  - æ— `searchvalue`å‚æ•°æˆ–æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²`searchvalue`æ—¶è¿”å›`false`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes()); // è¾“å‡ºï¼šfalseï¼ˆæ— å‚æ•°æ—¶ï¼‰
      console.log(str.includes('å°')); // è¾“å‡ºï¼šfalseï¼ˆåˆ¤æ–­å­—ç¬¦ä¸²`å°`åœ¨å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ï¼‰
    ```
  - å‚æ•°`searchvalue`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å€¼é”™è¯¯ï¼Œè¿”å›`true`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes('')); // è¾“å‡ºï¼štrueï¼ˆå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼‰
    ```
  - å‚æ•°`searchvalue`åŒºåˆ†å¤§å°å†™
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes('M')); // è¾“å‡ºï¼šfalseï¼ˆæŸ¥æ‰¾å¤§å†™`M`ï¼‰
      console.log(str.includes('m')); // è¾“å‡ºï¼štrueï¼ˆæŸ¥æ‰¾å°å†™`m`ï¼‰
    ```
  - å¯ä»è§„å®šçš„ä½ç½®`startIndex`å¼€å§‹æ£€ç´¢
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes('å¤§', 4)); // è¾“å‡ºï¼štrueï¼ˆä»ç¬¬ 4 ä¸ªç´¢å¼•ä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼‰
      console.log(str.includes('å¤§', 5)); // è¾“å‡ºï¼šfalseï¼ˆä»ç¬¬ 5 ä¸ªç´¢å¼•ä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼‰
    ```
  - å¦‚çœç•¥`startIndex`å‚æ•°æˆ–`startIndex`å‚æ•°å€¼ä¸æ˜¯æ•´æ•°ï¼Œåˆ™å°†ä»å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.includes('å¤§')); // è¾“å‡ºï¼štrueï¼ˆçœç•¥`startIndex`å‚æ•°æ—¶ï¼‰
      console.log(str.includes('å¤§', 0.1)); // è¾“å‡ºï¼štrue
      console.log(str.includes('å¤§', 'å¤§')); // è¾“å‡ºï¼štrue
      console.log(str.includes('å¤§', [])); // è¾“å‡ºï¼štrue
      console.log(str.includes('å¤§', {})); // è¾“å‡ºï¼štrue
      console.log(str.includes('å¤§', undefined)); // è¾“å‡ºï¼štrue
      console.log(str.includes('å¤§', null)); // è¾“å‡ºï¼štrue
    ```
  - å¯æŸ¥æ‰¾è¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦
    ```js
      var s = 'ğ ®·abğ ®·';
      console.log(s.includes('ğ ®·')); // true
    ```
  - å¦‚æœä¼ å…¥äº†æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šæŠ›å‡ºé”™è¯¯
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)
  
### String.prototype.startsWith()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²å¼€å¤´
  - è¯­æ³•
    ```js
      Boolean String.prototype.startsWith(searchvalue, startIndex)
    ```
    - searchvalue: å¿…éœ€ï¼Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚
    - startIndex: å¯é€‰ï¼Œè®¾ç½®ä»é‚£ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œé»˜è®¤ä¸º 0ã€‚
  - å¦‚æœæ˜¯ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²`searchvalue`å¼€å¤´æ—¶è¿”å› `true`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.startsWith('å¤§')); // è¾“å‡ºï¼štrue
    ```
  - æ— `searchvalue`å‚æ•°æˆ–ä¸æ˜¯ä»¥æŒ‡å®šçš„å­—ç¬¦ä¸²`searchvalue`å¼€å¤´æ—¶è¿”å›`false`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.startsWith()); // è¾“å‡ºï¼šfalseï¼ˆæ— å‚æ•°æ—¶ï¼‰
      console.log(str.startsWith('å°')); // è¾“å‡ºï¼šfalse
    ```
  - å‚æ•°`searchvalue`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å€¼é”™è¯¯ï¼Œè¿”å›`true`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.startsWith('')); // è¾“å‡ºï¼štrueï¼ˆå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼‰
    ```
  - å‚æ•°`searchvalue`åŒºåˆ†å¤§å°å†™
    ```js
      let str = 'lmå¤§æ··è›‹';
      console.log(str.startsWith('L')); // è¾“å‡ºï¼šfalse
      console.log(str.startsWith('l')); // è¾“å‡ºï¼štrue
    ```
  - å¯ä»è§„å®šçš„ä½ç½®`startIndex`å¼€å§‹æ£€ç´¢
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.startsWith('å¤§', 4)); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', 5)); // è¾“å‡ºï¼šfalse
    ```
  - å¦‚çœç•¥`startIndex`å‚æ•°æˆ–`startIndex`å‚æ•°å€¼ä¸æ˜¯æ•´æ•°ï¼Œåˆ™å°†ä»å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦å¼€å§‹æ£€ç´¢ã€‚
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.startsWith('å¤§')); // è¾“å‡ºï¼štrueï¼ˆçœç•¥`startIndex`å‚æ•°æ—¶ï¼‰
      console.log(str.startsWith('å¤§', 0.1)); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', 'å¤§')); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', [])); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', {})); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', undefined)); // è¾“å‡ºï¼štrue
      console.log(str.startsWith('å¤§', null)); // è¾“å‡ºï¼štrue
    ```
  - å¯æŸ¥æ‰¾è¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦
    ```js
      var s = 'ğ ®·abğ ®·';
      console.log(s.startsWith('ğ ®·')); // true
    ```
  - å¦‚æœä¼ å…¥äº†æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šæŠ›å‡ºé”™è¯¯
  
  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.endsWith()ï¼šES6ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥çœ‹å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²ç»“å°¾
  - è¯­æ³•
    ```js
      Boolean String.prototype.endsWith(searchvalue, length)
    ```
    - searchvalue: å¿…éœ€ï¼Œè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚
    - length: å¯é€‰ï¼ŒæŒ‡å®šè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¦‚æœçœç•¥ï¼Œåˆ™é»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
  - å¦‚æœæ˜¯ä»¥æŒ‡å®šçš„å­å­—ç¬¦ä¸²`searchvalue`ç»“å°¾æ—¶è¿”å› `true`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.endsWith('lm')); // ï¼Œè¾“å‡ºï¼štrue
    ```
  - æ— `searchvalue`å‚æ•°æˆ–ä¸æ˜¯ä»¥æŒ‡å®šçš„å­—ç¬¦ä¸²`searchvalue`ç»“å°¾æ—¶è¿”å›`false`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.endsWith()); // è¾“å‡ºï¼šfalseï¼ˆæ— å‚æ•°æ—¶ï¼‰
      console.log(str.endsWith('l')); // è¾“å‡ºï¼šfalse
      console.log(str.endsWith('å°')); // è¾“å‡ºï¼šfalse
    ```
  - å‚æ•°`searchvalue`ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›å€¼é”™è¯¯ï¼Œè¿”å›`true`
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.endsWith('')); // è¾“å‡ºï¼štrueï¼ˆå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼‰
    ```
  - å‚æ•°`searchvalue`åŒºåˆ†å¤§å°å†™
    ```js
      let str = 'å¤§æ··è›‹lm';
      console.log(str.endsWith('M')); // è¾“å‡ºï¼šfalse
      console.log(str.endsWith('m')); // è¾“å‡ºï¼štrue
    ```
  - å¯ä»¥æŒ‡å®šéœ€è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„é•¿åº¦`length`
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.endsWith('å¤§', 4)); // è¾“å‡ºï¼šfalse
      console.log(str.endsWith('å¤§', 5)); // è¾“å‡ºï¼štrue
    ```
  - çœç•¥`length`å‚æ•°æˆ–`length`å‚æ•°å€¼ä¸æ˜¯æ•´æ•°æ—¶
    ```js
      let str = 'lmæ˜¯ä¸ªå¤§æ··è›‹';
      console.log(str.endsWith('å¤§æ··è›‹')); // true
      console.log(str.endsWith('å¤§æ··è›‹', undefined)); // true
      console.log(str.endsWith('å¤§æ··è›‹', 0.1)); // false
      console.log(str.endsWith('å¤§æ··è›‹', 'å¤§')); // false
      console.log(str.endsWith('å¤§æ··è›‹', [])); // false
      console.log(str.endsWith('å¤§æ··è›‹', {})); // false
      console.log(str.endsWith('å¤§æ··è›‹', null)); // false
    ```
  - å¯æŸ¥æ‰¾è¶…å‡ºï¼¼u0000ï½ï¼¼uFFFFèŒƒå›´çš„å­—ç¬¦
    ```js
      var s = 'ğ ®·abğ ®·';
      console.log(s.endsWith('ğ ®·')); // true
    ```
  - å¦‚æœä¼ å…¥äº†æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šæŠ›å‡ºé”™è¯¯
  

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

## å¾—åˆ°æ–°å­—ç¬¦ä¸²

### String.prototype.repeat()ï¼šES6ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡è¿”å›
  - è¯­æ³•
    ```js
      String String.prototype.repeat(count)
    ```
    - count: å¿…éœ€ï¼Œè®¾ç½®è¦å¤åˆ¶çš„æ¬¡æ•°ã€‚
  - å¤åˆ¶å­—ç¬¦ä¸²æŒ‡å®šæ¬¡æ•°ï¼Œå¹¶å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·è¿”å›ã€‚
    ```js
      console.log('zxr'.repeat(1)); // zxr
      console.log('zxr'.repeat(2)); // zxrzxr
    ```
  - å‚æ•°å¦‚æœæ˜¯**å¤§äº0**çš„å°æ•°æ—¶ï¼Œä¼šè¢«å–æ•´ï¼ˆå°æ•°å…¨éƒ¨èˆå»ï¼‰
    ```js
      console.log('zxr'.repeat(0.3)); // 
      console.log('zxr'.repeat(1.3)); // zxr
      console.log('zxr'.repeat(2.3)); // zxrzxr
    ```
  - å¦‚æœå‚æ•°æ˜¯**0åˆ°-1**ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäº0ï¼ˆå–æ•´ä»¥åç­‰äº-0ï¼Œrepeatè§†åŒä¸º0ï¼‰
    ```js
      console.log('zxr'.repeat(-0.3)); // 
    ```
  - æ— å‚æ•°æˆ–å‚æ•°ä¸º**NaN**æ—¶ç­‰åŒäº**0**
    ```js
      console.log('zxr'.repeat()); // 
      console.log('zxr'.repeat(NaN)); // 
    ```
  - å¦‚æœ`repeat`çš„å‚æ•°æ˜¯**è´Ÿæ•°**æˆ–è€…**Infinity**ï¼Œä¼šæŠ¥é”™
    ```js
      console.log('zxr'.repeat(Infinity)); // æŠ¥é”™ï¼šRangeError: Invalid count value
      console.log('zxr'.repeat(-1)); // æŠ¥é”™ï¼šRangeError: Invalid count value
    ```
  - å‚æ•°ä¸æ˜¯æ•°å€¼ç±»å‹æ•°æ®æ—¶ï¼Œä¼šå…ˆè½¬æ¢æˆæ•°å­—ï¼Œå†è¿›è¡Œ`repeat`è¿ç®—
    ```js
      console.log('zxr'.repeat('3')); // zxrzxrzxr
      console.log('zxr'.repeat(true)); // zxr
      console.log('zxr'.repeat(false)); // 
      console.log('zxr'.repeat(undefined)); // 
      console.log('zxr'.repeat(null)); // 
      console.log('zxr'.repeat('a')); // 
      console.log('zxr'.repeat([])); // 
      console.log('zxr'.repeat({})); // 
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.padStart()ï¼šES6ï¼Œåœ¨å­—ç¬¦ä¸²å¤´éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²
  - è¯­æ³•
    ```js
      String String.prototype.padStart(minLength, text)
    ```
    - minLength: æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦
    - text: è¡¥å…¨çš„å­—ç¬¦ä¸²ï¼Œ
  - åœ¨å­—ç¬¦ä¸²å¤´éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²
    ```js
      console.log('1'.padStart(3, 0)); // '001'
    ```
  - å¦‚æœç”¨æ¥è¡¥å…¨çš„å®‡ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚
    ```js
      console.log('1'.padStart(5, '0123456789')); // '01231'
    ```
  - æ— å‚æ•° æˆ– åŸå­—ç¬¦ä¸²çš„é•¿åº¦ç­‰äº / å¤§äºæŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²
    ```js
      console.log('111'.padStart()); // '111'
      console.log('1'.padStart(-1)); // '1'
      console.log('111'.padStart(1)); // '111'
      console.log('111'.padStart(3)); // '111'
    ```
  - å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¼šç”¨ç©ºæ ¼` `æ¥è¡¥å…¨
    ```js
      console.log('1'.padStart(3)); // '  1'
    ```
  - å¯ä»¥æç¤ºå­—ç¬¦ä¸²æ ¼å¼
    ```js
      console.log('12'.padStart(10, 'YYYY-MM-DD')); // 'YYYY-MM-12'
      console.log('06-12'.padStart(10, 'YYYY-MM-DD')); // 'YYYY-06-12'
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

### String.prototype.padEnd()ï¼šES6ï¼Œåœ¨å­—ç¬¦ä¸²å°¾éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²
  - 
    ```js
      console.log('1'.padEnd(3, 0)); // '100'
    ```
  - è¯­æ³•
    ```js
      String String.prototype.padEnd(minLength, text)
    ```
    - minLength: æŒ‡å®šå­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦
    - text: è¡¥å…¨çš„å­—ç¬¦ä¸²ï¼Œ
  - åœ¨å­—ç¬¦ä¸²å°¾éƒ¨ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦ï¼Œä¸å¤Ÿåˆ™é‡å¤å­å­—ç¬¦ä¸²
    ```js
      console.log('1'.padEnd(3, 0)); // '100'
    ```
  - å¦‚æœç”¨æ¥è¡¥å…¨çš„å®‡ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚
    ```js
      console.log('1'.padEnd(5, '0123456789')); // '10123'
    ```
  - æ— å‚æ•° æˆ– åŸå­—ç¬¦ä¸²çš„é•¿åº¦ç­‰äº / å¤§äºæŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²
    ```js
      console.log('111'.padEnd()); // '111'
      console.log('111'.padEnd(-1)); // '111'
      console.log('111'.padEnd(1)); // '111'
      console.log('111'.padEnd(3)); // '111'
    ```
  - å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¼šç”¨ç©ºæ ¼` `æ¥è¡¥å…¨
    ```js
      console.log('1'.padEnd(3)); // '1  '
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)

## æ¨¡æ¿
### æ¨¡æ¿å­—ç¬¦ä¸²
  > å½“äºåŠ å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å· `,é™¤äº†ä½œä¸ºæ™®é€šå­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­åŠ å…¥å˜é‡å’Œè¡¨è¾¾å¼ã€‚
  > æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplatestringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚æ’å…¥å˜é‡/è¡¨è¾¾å¼/å¯¹è±¡å±æ€§/å‡½æ•°æ—¶ï¼Œå˜é‡å/è¡¨è¾¾å¼ç­‰å†™åœ¨ ${} ä¸­
  - æ™®é€šå­—ç¬¦ä¸²
    ```js
      console.log('Hello\'\n\'world'); 
      // "Hello'
      // 'world"
    ```
  - å¤šè¡Œå­—ç¬¦ä¸²: æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„æ¢è¡Œå’Œç©ºæ ¼éƒ½æ˜¯ä¼šè¢«ä¿ç•™çš„
    ```js
      console.log(`
        <ul>
          <li>menu</li>
          <li>mine</li>
        </ul>
      `);
      /*
        <ul>
          <li>menu</li>
          <li>mine</li>
        </ul>
      */
    ```
  - å¯ä»¥ç”¨`trim`æ–¹æ³•æ¶ˆé™¤æ¢è¡Œ: åªèƒ½æ¶ˆé™¤å‰åæ¢è¡Œ
    ```js
      console.log(`
      <ul>
        <li>first</li>
      </ul>
      `.trim());
      // <ul>
      //   <li>first</li>
      // </ul>
    ```
  - å­—ç¬¦ä¸²ä¸­å¯ä»¥æ’å…¥å˜é‡ã€è¡¨è¾¾å¼ã€å¯¹è±¡å±æ€§ã€å‡½æ•°ï¼šå°†å…¶å†™åœ¨`${}`ä¸­
    ```js
      let name = "mia";
      let age = 18;
      let num = 2;

      // æ’å…¥å˜é‡
      console.log(`My Name is ${name}`); // My Name is mia.

      // æ’å…¥è¡¨è¾¾å¼
      console.log(`I am ${age+1} years old next year.`); // I am 19 years old next year.
      console.log(`${age} + ${num} = ${ age + num }`); // 18 + 2 = 20

      // å¼•ç”¨å¯¹è±¡å±æ€§
      let json = { name: 'mia' }
      console.log(`My Name is ${json.name}`); // My Name is mia

      // è°ƒç”¨å‡½æ•°
      function f(age){
        return `I am ${age} years old next year.`;
      }
      console.log(`My Name is ${name}, ${f(age)}`);
      // My Name is mia, I am 18 years old next year.
    ```
  - å¦‚æœåœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éœ€è¦ä½¿ç”¨åå¼•å·`ï¼Œåˆ™åœ¨å…¶å‰é¢è¦ç”¨åæ–œæ `\`è½¬ä¹‰
    ```js
      console.log(`\`lm\`æ˜¯ä¸ªå¤§æ··è›‹`); // `lm`æ˜¯ä¸ªå¤§æ··è›‹
    ```
  - å¤§æ‹¬å·å†…éƒ¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†ä¼šåŸæ ·è¾“å‡º
    ```js
      console.log(`lmæ˜¯ï¼š${ 'å¤§æ··è›‹' }`); // lmæ˜¯ï¼šå¤§æ··è›‹
    ```
  - å¦‚æœå¤§æ‹¬å·ä¸­çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šå…ˆæŒ‰ç…§ä¸€èˆ¬çš„è§„åˆ™è½¬ä¸ºå­—ç¬¦ä¸²: ä¾‹å¦‚ï¼štoString()
    ```js
      console.log(`lmæ˜¯ï¼š${ 123 }`); // lmæ˜¯ï¼š123
      console.log(`lmæ˜¯ï¼š${ undefined }`); // lmæ˜¯ï¼šundefined
      console.log(`lmæ˜¯ï¼š${ null }`); // lmæ˜¯ï¼šnull
      console.log(`lmæ˜¯ï¼š${ true }`);  // lmæ˜¯ï¼štrue
      console.log(`lmæ˜¯ï¼š${ false }`); // lmæ˜¯ï¼šfalse
      console.log(`lmæ˜¯ï¼š${ [1,2,3] }`);  // lmæ˜¯ï¼š1,2,3
      console.log(`lmæ˜¯ï¼š${ {} }`);  // lmæ˜¯ï¼š[object Object] ï¼ˆå¤§æ‹¬å·ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°†é»˜è®¤è°ƒç”¨å¯¹è±¡çš„toStringæ–¹æ³•ã€‚ï¼‰
    ```
  - æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥åµŒå¥—
    ```js
      let arr = [{ date: '2021-6-29', weather: 'â˜€' }, { date: '2021-6-30', weather: 'â˜' }];
      console.log(`æ’­æŠ¥ï¼š${
        arr.reduce((p, c, i) => {
          return p += `${c.date}å¤©æ°”ï¼š${c.weather}ã€‚`;
        }, '')
      }`);
      // æ’­æŠ¥ï¼š2021-6-29å¤©æ°”ï¼šâ˜€ã€‚2021-6-30å¤©æ°”ï¼šâ˜ã€‚
    ```
  - å¼•ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æœ¬èº«
    ```js
      // å†™æ³•ä¸€
      let str = 'return `My Name is ${name},I am ${age} years old next year.`';
      let func = new Function('name', 'age', str);
      console.log(func('zxr', '18')); // My Name is zxr,I am 18 years old next year.
      console.log(func('lm', 100)); // My Name is lm,I am 100 years old next year.
      
      // å†™æ³•äºŒ
      let str = '(name, age) => `My Name is ${name},I am ${age} years old next year.`'
      let func = eval.call(null, str);
      console.log(func('zxr', '18')); // My Name is zxr,I am 18 years old next year.
      console.log(func('lm', 100)); // My Name is lm,I am 100 years old next year.
    ```
  - å¤§æ‹¬å·`${}`ä¸­ä¸ºç©ºæ—¶æŠ¥é”™
    ```js
      console.log(`My Name is ${  }`); // SyntaxError: Unexpected token '}'
    ```
  - å¤§æ‹¬å·`${}`ä¸­å˜é‡/å‡½æ•°æœªå£°æ˜æ—¶æŠ¥é”™
    ```js
      console.log(`My Name is ${ name }`); // ReferenceError: name is not defined
      console.log(`My Name is ${ f() }`); // ReferenceError: f is not defined
      console.log(`My Name is ${ json.name }`); // ReferenceError: json is not defined
    ```
  - é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç”Ÿæˆæ­£å¼æ¨¡æ¿çš„å®ä¾‹
    ```js
      function compile (template) {
        const evalExpr = /<%=(.+?)%>/g;
        const expr = /<%([\s\S]+?)%>/g;

        template = template.replace(evalExpr, '`); \n  echo( $1 ); \n  echo(`')
          .replace(expr, '`); \n $1 \n  echo(`');
        console.log('1: '+ template);
        template = 'echo(`' + template + '`);';
        console.log('2: '+ template);
        let script = `(function parse(arr){
                        let output = "";
                        function echo(html){
                          output += html;
                        }
                        ${template}
                        return output;
                      })`;

        return script;
      }
      let template = `<ul><% for(let i=0; i < arr.length; i++) { %><li><%= arr[i] %></li><% } %></ul>`;
      let parse = eval(compile(template));
      // console.log(compile(template));
      console.log(parse(["broom", "mop", "cleaner"])); // <ul><li>broom</li><li>mop</li><li>cleaner</li></ul>
      console.log(parse(["lm", "zxr"])); // <ul><li>lm</li><li>zxr</li></ul>
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)
  
### æ ‡ç­¾æ¨¡æ¿
  > å¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¿™æ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚
  - ä¾‹1
    ```js
      function func (...v) {
        return v;
      }
      let name = 'zxr';
      let age = 18;
      console.log(func`name: ${name}, age: ${age}.`);
      // [ [ 'name: ', ', age: ', '.' ], 'zxr', 18 ]
    ```
  - å„ä¸ªå‚æ•°æŒ‰ç…§åŸæ¥çš„ä½ç›´æ‹¼æ¥å›å»ã€‚passthruå‡½æ•°é‡‡ç”¨restå‚æ•°çš„å†™æ³•å¦‚ä¸‹
    ```js
      function f (stringArr, ...values) {
        let result = "";
        for (let i = 0, len = stringArr; i < len; i++) {
          result += stringArr[i];
          if (values[i]) {
            result += values[i];
          }
        }
        return result;
      }
      let name = 'zxr';
      let age = 18;
      console.log(f`My Name is ${name},I am ${age} years old next year.`);;
      // 'My Name is zxr,I am 18 years old next year.'
    ```
  - åº”ç”¨ï¼šè¿‡æ»¤HTMLå­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ï¼ˆè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼‰
    ```js
      function f (stringArr, ...values) {
        let result = "";
        for (let i = 0; i < stringArr.length; i++) {
          result += stringArr[i];
          if (values[i]) {
            result += String(values[i]).replace(/&/g, "&amp;")
                                       .replace(/</g, "&lt;")
                                       .replace(/>/g, "&gt;");
          }
        }
        return result;
      }
      name = '<Amy&MIke>';
      console.log(f`<p>Hi, ${name}.I would like send you some message.</p>`);
      // <p>Hi, &lt;Amy&amp;MIke&gt;.I would like send you some message.</p>
    ```


  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)
  
### String.raw()ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²
  > æ˜¯å”¯ä¸€ä¸€ä¸ªå†…ç½®çš„æ¨¡æ¿å­—ç¬¦ä¸²æ ‡ç­¾å‡½æ•°ï¼Œæ¯”è¾ƒå¸¸ç”¨ï¼Œä¸è¿‡è‡ªå·±ä¹Ÿå¯ä»¥å®ç°ä¸€ä¸ªå’Œå®ƒåŠŸèƒ½ä¸€æ¨¡ä¸€æ ·çš„æ ‡ç­¾å‡½æ•°ã€‚
  - è¯­æ³•
    ```js
      String String.raw(callSite, ...substitutions)
      String String.raw`templateString`
    ```
    - callSite:å¿…é¡»ï¼Œä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„`è°ƒç”¨ç‚¹å¯¹è±¡`ã€‚ç±»ä¼¼: { raw: ['foo', 'bar', 'baz'] }
    - substitutions: ä»»æ„ä¸ªå¯é€‰çš„å‚æ•°ï¼Œè¡¨ç¤ºä»»æ„ä¸ªå†…æ’è¡¨è¾¾å¼å¯¹åº”çš„å€¼ã€‚
    - templateString: å¿…é¡»ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¯åŒ…å«å ä½ç¬¦ï¼ˆ${...}ï¼‰ã€‚
  - æ–œæ ä¼šè¢«è½¬ä¹‰: å³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ 
    ```js
      console.log(`Hi\n${2+3}!`);
      // è¿”å›: Hi\n5!  æ˜¾ç¤ºï¼š
      // Hi
      // 5!
      console.log(String.raw`Hi\n${2+3}!`);
      // å®é™…è¿”å›: Hi\\n5!   
      // æ˜¾ç¤ºçš„æ˜¯è½¬ä¹‰åçš„ç»“æœ: Hi\n5!  
      // Hi åé¢çš„å­—ç¬¦ä¸æ˜¯æ¢è¡Œç¬¦ï¼Œ\ å’Œ n æ˜¯ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦ï¼Œå¯ä»¥ç”¨ .length éªŒè¯
    ```
  - å¦‚æœåŸå­—ç¬¦ä¸²çš„æ–œæ å·²ç»è½¬ä¹‰ï¼Œé‚£ä¹ˆ String.raw() ä¼šè¿›è¡Œå†æ¬¡è½¬ä¹‰ã€‚
    ```js
      String.raw`Hi\\n` // è¿”å› "Hi\\\\n"
      String.raw`Hi\\n` === "Hi\\\\n" // true
    ```
  - ${}ä¸­çš„`\`ä¸ä¼šè¢«è½¬ä¹‰ï¼›å½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°`raw`ä¸­`\`å’Œå‚æ•°ä¸­çš„`\`éƒ½ä¸ä¼šè¢«è½¬ä¹‰
    ```js
      console.log(String.raw`a\\b`); // a\\b
      console.log(String.raw`a${'\\'}b`); // a\b
      console.log(String.raw({ raw: ['a\\b'] })); // a\b
      console.log(String.raw({ raw: ['a', 'b'] }, '\\')); // a\b
    ```
  - å†…æ’è¡¨è¾¾å¼å¯ä»¥æ­£å¸¸è¿è¡Œ
    ```js
      let name = 'zxr;
      console.log(String.raw`My name is ${name}`); 
      // My name is zxr
    ```
  - ç›´æ¥å½“ä½œå‡½æ•°è°ƒç”¨ï¼š
    ```js
      // ç¬¬ä¸€ä¸ªå‚æ•°ä¸­rawçš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆä¼šè¢«è½¬æˆæ•°ç»„ï¼‰
      String.raw({ raw: 'zxr' }, '-1-', '-2-'); // 'z-1-x-2-r'

      // ç¬¬ä¸€ä¸ªå‚æ•°ä¸­rawçš„å€¼å¯ä»¥æ˜¯æ•°ç»„ï¼ˆç±»ä¼¼æ•°ç»„ï¼‰
      String.raw({
        raw: ['lm', 'zxr']
      }, 'â¤'); 
      // 'lmâ¤zxr'
      
      // è¿™æ ·è°ƒrawå‡½æ•°å’Œä¸Šé¢å¾—åˆ°çš„ç»“æœæ˜¯ç›¸åŒçš„
      String.raw`lm${ 'â¤' }zxr`; 
      // 'lmâ¤zxr'
    ```
  - å¦‚æœ callSite ä¸æ˜¯æ ¼å¼æ­£ç¡®çš„å¯¹è±¡ï¼Œåˆ™ä¼šæŠ›å‡ºTypeErrorå¼‚å¸¸ã€‚
    ```js
      console.log(String.raw()); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw(null)); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw(undefined)); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw('')); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw(1)); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw([])); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw({})); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw({raw: null})); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw({raw: undefined})); // TypeError: Cannot convert undefined or null to object
      console.log(String.raw({raw: 1})); // ''
      console.log(String.raw({raw: []})); // ''
      console.log(String.raw({raw: {}})); // ''
      console.log(String.raw({raw: ''})); // ''
    ```
  - è‡ªå·±å®ç°ä¸€ä¸ªç›¸ä¼¼åŠŸèƒ½çš„å‡½æ•°
    ```js
      function func (stringArr, ...value) {
        let str = '';
        console.log(stringArr.raw[0]);
        for (let i = 0, len = stringArr.raw.length; i < len; i++){
          let s = stringArr.raw[i];
          str += stringArr.raw[i].replaceAll('\\', '\\\\') + (value[i] || '')
        }
        return str;
      }
      
      console.log(func({raw: ['1','2','3','4']}, '-'));
    ```

  [â¬†ï¸ è¿”å›é¡¶éƒ¨](#ç›®å½•)
  